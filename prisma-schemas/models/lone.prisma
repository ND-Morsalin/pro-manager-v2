

//**************************/
// Lone Model start
//**************************/
model LoneProvider {
  id               String    @id @default(auto()) @map("_id") @db.ObjectId
  loneProviderName String
  phoneNumber      String
  address          String
  note             String?
  loneTakenDate    DateTime
  totalLoneTaken   Float @default(0)
  loneDeuAmount    Float @default(0)
  lonePaidAmount   Float @default(0)
  // paymentHistory
  // ShopOwner id
  shopOwner        ShopOwner @relation(fields: [shopOwnerId], references: [id], onDelete: Cascade)
  shopOwnerId      String    @db.ObjectId

  lonePaymentHistories LonePaymentHistory[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model LonePaymentHistory {
  id                String        @id @default(auto()) @map("_id") @db.ObjectId
  givingAmount      Float
  lonePaymentStatus PaymentStatus // enum SHOPOWNERRECIVED SHOPOWNERGIVE
  // shopOwnerId
  lonePaymentDate   DateTime      @default(now())

  shopOwner      ShopOwner    @relation(fields: [shopOwnerId], references: [id], onDelete: Cascade)
  shopOwnerId    String       @db.ObjectId
  note           String?
  loneProvider   LoneProvider @relation(fields: [loneProviderId], references: [id], onDelete: Cascade)
  loneProviderId String       @db.ObjectId
}

//**************************/
// Lone Model end
//**************************/
